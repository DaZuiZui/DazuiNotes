# 令牌桶-限流使用

## 业务背景

比如一口气来了10000条数据，要以均速每秒取10个进行处理。

## 解决方案

令牌桶就是有一个固定大小的桶，系统以恒定的速度往这个桶放令牌，比如1秒放10个（不会超过桶的最大流量），然后每处理一个都会从这个桶里拿出令牌，然后取去执行业务。

如果我们的请求速度大于我们的桶大小：没拿到令牌的会执行拒绝策略，会被限流。

如果我们的请求速度等于我们的桶大小： 平稳状态

如果我们的请求速度小于我们的桶大小：访问量低于我们系统的处理能力。

## 桶实现方案

可以使用Redis List