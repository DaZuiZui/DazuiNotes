# 排查吉林单点登入后需要刷新

## 问题背景

​	当单点登入后，需要手动进行刷新才能进入index

## 问题排查

​	该vue使用了**`mounted`**，该组件是挂载DOM后调用的，在执行异步操作的时候，可能会导致一步操作还没完成导致了业务逻辑无法正常使用。

​	mounted使用的场景是在DOM准备后调用。

## 问题解决方案

​	使用created 生命周期，保证相关数据已经准备好在跳转。

### 原因

​	当组件实列被创建了后立即调用，这时候组件的实列已经存在，但是还没挂载在DOM上，适合初始化的工程。这时候异步可能已经准备好，适合做跳转的工作。

### 如何保证跳转的时候异步已经准备好？

在Vue提供的路由前置环绕可以保证。





