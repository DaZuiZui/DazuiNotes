# JVM类加载机制

## 加载Loding

在JDK1.8版本是在我们创建的对象的时候把我们的类加载到我们的元空间进行存储，这个元空间包含了我们的类名，父类名，方法，属性什么的。

元空间是懒加载的，如果我们这个类已经被加载到元空间，那么就会直接使用加载好的，否则才会执行加载。

这些操作由我们类的加载器完成。

## 连接Liking

### 验证

对我们加载的类进行验证，确保符合我们的JVM规则。保证我们虚拟机的安全，比如一个类继承了一个final的类，那么这个类就不能通过验证。

### 准备

为类的静态变量分配空间，和设置静态变量的默认初始值（0），

### 解析

将类、接口、字段和方法的符号引用解析为直接引用。符号引用就是表示这些的目标信息。

## 初始化

初始化是我们加载的最后一阶段，会把静态变量设置一些初始值，然后静态代码块也会被执行 for 可以执行一些初始化操作。这个操作是由类加载器实现的

### 类加载器

类加载器，就是类加载器收到了一个类的加载，他首先会委托给父类进行加载，如果父类无法加载子类才会加载。

#### 启动类加载器

负责加载Java核心库，是虚拟机的一部分，他不是Java类，是C++实现的。

#### 扩展类加载器

加载Java的扩展库比如JDBC

### 应用程序加载类

就是加载我们平时的类。

