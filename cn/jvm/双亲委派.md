# 双亲委派

双薪委派就是我们类加载机制的一部分。他的思想就是每一个要加载的时候首先先交给父亲加载器，然后逐层向上，直到最上层的启动器加载器bootstrapclassloader。如果父亲加载器没法加载该类，就由原理的类加载，这种机制保证了Java类的加载顺序和安全性，避免了重复加载。

## 启动类加载

主要负责加载java核心库

## 扩展类加载

主要负责java的扩展类

## 应用类加载器

这里主要是记载我们用户自定义的类

## 自定义类加载器

有开发者自定义应对要求，比如网络加载类等。

```java
       +------------------+
       | Bootstrap Loader |
       +------------------+
               ^
               |
       +------------------+
       | Extension Loader |
       +------------------+
               ^
               |
       +------------------+
       | Application Loader |
       +------------------+
```

说一个过程吧，首先我们我们家在一个类如String，当Application打算开始加载这个类的时候他首先会委托给他的父亲Extension loader，看看他的父亲有没有加载过（加载过的类不能再被加载），如果没有就继续给他的父亲Bootstrap Loader ，然后Bootstrap loader查看一下，发现也没有被加载，然后查看自己可以加载不，如果可以就加载，不可以就委托给儿子Extension loader。然后查看Extension loader可以加载不，如果不可以就委托给儿子Application loader，否则就加载。然后如果Application loader也没加载到就爆异常没有这个类。