# Http 和 Https的区别

# Http

Http是一种不安全的协议，数据在传输过程都是明文传输的，

1.当客户端需要与服务器建立连接的时，它会发送一个http请求，服务器接受请求后会返回一个http响应，这就是达成了初次握手。

2.Http默认是短连接的，每个http响应周期后就会被立刻关闭。

## Https

### 三次挥手

​	客户端向服务端发送clienthello，这里包含了支持的TLS/SSL版本、加密套件列表、客户端随机数以及其他选项。

   服务端恢复ServerHello，服务端选择客户端提供的TLS//SSL版本的加密套件，并且发送一个ServerHello消息，包含服务端的随机数和服务器的数字证书、服务器的公钥以及其他选项。



​	客户端验证服务端的数字证书确保服务器的身份，并且使用服务器的公钥来加密一个预主密钥（也叫对称密钥，是现生成的），然后发送给服务器。

   服务器使用私钥来揭秘客户端发送的预主密钥，然后使用客户端和服务端生成的随机数以及预主密钥通过密钥派生函数生成密钥，用于后续的加密和解密。

  

   客户端和服务器端互相通知握手完成，安全通信开始。

### 四次挥手

​	客户端向服务器发送一个关闭通知表示我不在向你发起数据，但是仍然愿意接受数据

​	服务器收到客户端的关闭通知，向客户端确定关闭通知，此时，服务器不再发送数据，但是仍然愿意接受数据。

 	服务器想客户端发送关闭通知，表示服务器不再发送数据。

​	客户端向服务器确定关闭通知，此时，双方正式关闭。