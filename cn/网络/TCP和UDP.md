# TCP和UDP

## TCP

tcp是一种面向连接的协议，它在通信开始前会建立一个连接，然后在通信结束的时候会关闭连接，tcp提供了我们的数据传输的可靠性，它通过版号和确认机制来确保数据是按照顺序到达的，确保了数据的完整性。tcp如果在我们网络比较堵塞的情况下会适度的减少发送速度以防防止数据丢失和网络性能下降（通过流量控制）。

tcp适用于网页浏览和文件传输的业务场景

### TCP或者Http是如何确定一个包发送完了

其实HTTP没有直接提供确认机制来确定是否发送完毕，它依赖底层的TCP来确保数据传输的可靠性。

TCP协议中他会把数据分割为数据包或者数据段的小块，然后我们接收方每接收一段或者一块数据就会发送一个确认消息给发送端ACK。

如果我们接收端接收的数据大小和发送的大小是一致的，那么就是接受完成了， 然后关闭连接。

数据包是存放的ip:port，然后数据段是我们携带的数据

## UDP

udp是一种无连接的协议，不需要在通信开始前建立连接，也不需要维护连接状态，数据包也是相互独立的。就因为不维护连接状态和复杂的可靠性机制所以适用于的业务场景实时性比较高的，UDP适用于对实时性要求较高、能够容忍一定丢包的业务场景，如视频通话语音通话、直播游戏等业务。