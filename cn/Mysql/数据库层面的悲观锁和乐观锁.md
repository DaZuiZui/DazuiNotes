# 数据库层面的悲观锁和乐观锁

## 悲观锁

**定义：** 数据库中的悲观锁是操作的数据的时候锁住记录或者表，防止其他事物修改数据，比如 

~~~java
select for update
lock table
~~~

**优点：**保证数据的一致性，适合竞争强烈的地方

**缺点：**容易发生死锁，降低系统的并发能力。

## 乐观锁

数据库中的乐观锁不字节使用数据库提供的锁机制，而是通过业务逻辑来判断，

**优点：**避免了数据库的锁机制，减少了死锁的发生，提高了系统的并发能力。

**缺点：**在高并发下，数据竞争激烈的场景下，可能导致较多的失败和充实。