# 每天1000万笔订单，卖家和买家都要查询最近30天订单

这个需求主要需要解决3个问题，存储压力 和 查询性能  高并发处理



可以分库分表 比如买家卖家分开存储， 或者使用mongodb。也可以根据用户的id或者订单创建的时间进行分库（比如按照月份）

或者使用冷热数据分离

30天内的数据存在mysql，超过30天比如可以存到hadoop

# 如果刁难一点，查询过去30天，金额大于100元的账单 而且状态已经完成

可以使用ES。ES虽然可以满足这个问题，但是一直用ES他的压力也很大，这时候可以热数据。比如商家查看最近10条数据，卖家查看当天的数据