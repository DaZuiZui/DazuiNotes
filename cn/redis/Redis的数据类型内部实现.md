# Redis的数据类型内部实现

## String

Stirng是我们Redis最基本的一个数据类型，最大的存储大小是512MB

在String的类型的内部实现主要是int和SDS（实现的动态字符串）,SDS使用len属性的值来判断字符串是否结束，而且SDS所有的API都会以处理二进制的方式进行存储，所以String 也可以保存图片、视频、压缩文件等。

SDS获取字符串长度的时间复杂度是O（1）,因为C语言的字符串长度并不记录自身长度，redis使用了len属性记录了字符串长度，所以获取字符串长度的时间复杂度是O(1)

Redis的SDS API是安全的，拼接字符串不会造成缓冲区的溢出，因为SDS在拼接字符串的时候会检查SDS空间是否满足，如果不满足就会自动扩容，所以不会造成内存溢出。

字符串的内部编码有int、raw和embstr，

如果我们的存储的内容可以用long类型表示，那么会将字符串编码转换为int，会将数字保存在redisObject.ref中

、