# Redis持久化

## RDB快照（默认）

RDB快照是让redis的数据定期保存在硬盘上的一种方式，我们也可以通过配置文件来设置多长时间保存一次。RDB存储的文件时二进制文件，包含了某个时间节点上的所有数据，在redis重启的时候快速加载数据。该方法的优点是性能会高，但是缺点是如果redis服务器崩溃可能会丢失最后一次快照之后的数据。适用的场景对数据不那么敏感的场景。

## AOF日志

AOF日志持久化是将每一个写操作追加到一个日志文件中，已文本的形式存储。aof在服务器重启的时候重新执行文本中的写操作这种方式不会丢失数据是因为所有的写操作都存储在服务器中，AOF的优点是数据安全性高，缺点是AOF的文件可能会变的很大。适用的场景数据比较敏感的情况。

## Reids还支持了RDB和AOF混合持久化方式

这种方式的工作原理是当重启redis的时候先从RDB快速生成数据，然后再通过重放AOF日志的写操作来更新数据。保证数据的完整性一致性。