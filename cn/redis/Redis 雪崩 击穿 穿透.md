# Redis 雪崩 击穿 穿透

## 雪崩

雪崩就是在同一时刻大批量的key过期了， 导致请求直接落下数据库上，对数据库造成了很大的压力，解决方式就是在过期时间加上随机数

## 缓存穿透

缓存穿透就是这个值我们的数据库也没有redis也没有，请求直接落在数据库上给数据库造成压力，解决方案就是设置一些过滤的值比如id为负数的或者id特别大的，但是会出现一个问题，什么数字的id会是大数呢？所以就有一个更好的解决方案，如果数据库和redis都不存在那么这个key就设置为null。

## 击穿

缓存击穿就是在redis key过期的时间，有大量的查询走向mysql，并且有大量的去设置这个数据的缓存。解决方案就是使用锁，保证这个这些更新事件只有一个可以更新成功。如果保证呢，在这个代码块在更新redis之前先检查下这个key是否有被其他线程设置，如果有那么就取消。	