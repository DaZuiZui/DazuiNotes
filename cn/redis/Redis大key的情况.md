# Redis大key的情况

## 有何危害

大Key会导致占用大量内存，导致Redis内存使用超出预期，如果内存不够，Redis可能会触发数据淘汰策略，影响其他数据的正常访问。

大Key的存在会影响Redis的内存分配和回收效率，增加内存碎片化的可能性。

redis是单线程的，操作大Key也会占用Redis的执行时间，其他请求被堵塞，影响整体响应时间，特别遍历大key集合。

大key会导致RDB or AOF的时候增加持久化文件的大小，导致磁盘IO瓶颈。

如果Redis因为大key导致崩溃，重启和恢复过程会非常缓慢。

## 如果真的出现大key问题了如何解决。

**数据分配：**比如一个list集合特别大，那么就把它拆分为多个小的。

**分页处理：** 也可以通过分页获取list的key，不一次获取那么多

**监控方面：**定期监控Redis中的大Key，及时发现并优化。

​	`SCAN` 命令可以遍历Redis中的所有Key。结合 `MEMORY USAGE` 命令，可以发现大Key。

